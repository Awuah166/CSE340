<% if (title) { %>
    <h1><%= title %></h1>
<% } %>

<%- messages() %>

<% if (errors) { %>
    <ul class="notice">
        <% errors.array().forEach(error => { %>
            <li><%= error.msg %></li>
        <% }) %>
    </ul>
<% } %>

<div class="form-container">
    <form id="inventoryForm" class="inventory-form" action="/inv/add-inventory" method="post">
        <fieldset>
            <legend>New Inventory Item Details</legend>

            <div class="form-row">
                <div class="form-group">
                    <label for="inv_make">Make *</label>
                    <input 
                        type="text" 
                        id="inv_make" 
                        name="inv_make" 
                        required 
                        maxlength="50"
                        placeholder="e.g., Ford, Toyota"
                        value="<%= locals.inv_make || '' %>"
                        aria-label="Vehicle make"
                        aria-required="true"
                    />
                </div>
                
                <div class="form-group">
                    <label for="inv_model">Model *</label>
                    <input 
                        type="text" 
                        id="inv_model" 
                        name="inv_model" 
                        required 
                        maxlength="50"
                        placeholder="e.g., F-150, Camry"
                        value="<%= locals.inv_model || '' %>"
                        aria-label="Vehicle model"
                        aria-required="true"
                    />
                </div>

                <div class="form-group">
                    <label for="inv_year">Year *</label>
                    <input 
                        type="number" 
                        id="inv_year" 
                        name="inv_year" 
                        required 
                        min="1900" 
                        max="2100" 
                        placeholder="e.g., 2023"
                        value="<%= locals.inv_year || '' %>"
                        aria-label="Vehicle year"
                        aria-required="true"
                    />
                </div>
            </div>

            <div class="form-group">
                <label for="inv_description">Description *</label>
                <textarea 
                    id="inv_description" 
                    name="inv_description" 
                    required 
                    minlength="10"
                    maxlength="1000"
                    placeholder="Provide a detailed description of the vehicle (10-1000 characters)"
                    aria-label="Vehicle description"
                    aria-required="true"
                    rows="5"
                ><%= locals.inv_description || '' %></textarea>
                <span class="form-hint">10-1000 characters required</span>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="inv_image">Image Path *</label>
                    <input 
                        type="text" 
                        id="inv_image" 
                        name="inv_image" 
                        required 
                        placeholder="/images/vehicles/filename.png"
                        value="<%= locals.inv_image || '/images/vehicles/no-image.png' %>"
                        aria-label="Image path"
                        aria-required="true"
                    />
                    <span class="form-hint">Must be a valid image path</span>
                </div>

                <div class="form-group">
                    <label for="inv_thumbnail">Thumbnail Path *</label>
                    <input 
                        type="text" 
                        id="inv_thumbnail" 
                        name="inv_thumbnail" 
                        required 
                        placeholder="/images/vehicles/filename-tn.png"
                        value="<%= locals.inv_thumbnail || '/images/vehicles/no-image-tn.png' %>"
                        aria-label="Thumbnail path"
                        aria-required="true"
                    />
                    <span class="form-hint">Must be a valid thumbnail path</span>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="inv_price">Price ($) *</label>
                    <input 
                        type="number" 
                        id="inv_price" 
                        name="inv_price" 
                        required 
                        min="0" 
                        step="1" 
                        placeholder="e.g., 25000"
                        value="<%= locals.inv_price || '' %>"
                        aria-label="Vehicle price"
                        aria-required="true"
                    />
                </div>

                <div class="form-group">
                    <label for="inv_miles">Mileage *</label>
                    <input 
                        type="number" 
                        id="inv_miles" 
                        name="inv_miles" 
                        required 
                        min="0" 
                        step="1" 
                        placeholder="e.g., 45000"
                        value="<%= locals.inv_miles || '' %>"
                        aria-label="Vehicle mileage"
                        aria-required="true"
                    />
                </div>

                <div class="form-group">
                    <label for="inv_color">Color *</label>
                    <input 
                        type="text" 
                        id="inv_color" 
                        name="inv_color" 
                        required 
                        maxlength="50"
                        placeholder="e.g., Black, Silver"
                        value="<%= locals.inv_color || '' %>"
                        aria-label="Vehicle color"
                        aria-required="true"
                    />
                </div>
            </div>

            <div class="form-group">
                <label for="classificationList">Classification *</label>
                <%- classificationList %>
                <span class="form-hint">Select the vehicle classification</span>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-submit">Add Inventory Item</button>
                <a href="/inv/" class="btn btn-cancel">Cancel</a>
            </div>
        </fieldset>
    </form>
</div>